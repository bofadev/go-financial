{"ast":null,"code":"import _objectSpread from\"/Users/bhgwbrown/Documents/misc/go_projs/my_proj/web/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/bhgwbrown/Documents/misc/go_projs/my_proj/web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bhgwbrown/Documents/misc/go_projs/my_proj/web/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/bhgwbrown/Documents/misc/go_projs/my_proj/web/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/bhgwbrown/Documents/misc/go_projs/my_proj/web/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/bhgwbrown/Documents/misc/go_projs/my_proj/web/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import'../css/mainContent.css';import'bulma/css/bulma.css';import ReviewTableItem from'./reviewTableItem';import Form from'./Form';var MainContent=/*#__PURE__*/function(_React$Component){_inherits(MainContent,_React$Component);function MainContent(props){var _this;_classCallCheck(this,MainContent);_this=_possibleConstructorReturn(this,_getPrototypeOf(MainContent).call(this,props));_this.getData=function(){fetch(\"/reviews/get\").then(function(r){return r.json();}).then(function(data){_this.setState(function(prev){return _objectSpread({},prev,{reviews:data});});fetch(\"/getTotals\").then(function(r){return r.json();}).then(function(data){_this.setState(function(prev){return _objectSpread({},prev,{netWorth:data.NetWorth,totalAssets:data.TotalAssets,totalLiabilities:data.TotalLiabilities});});});});};_this.onFormDirty=function(){_this.getData();};_this.onDeleteItem=function(key){if(window.confirm(\"Delete the entry?\")===false){return;}console.log(\"Deleting review - [key:\".concat(key,\"]\"));var url=\"/review/delete?key=\".concat(key);fetch(url).then(function(r){return r.json();}).then(function(r){console.log(r);_this.getData();});};_this.renderTableRow=function(item){return React.createElement(ReviewTableItem,{review:item,onDeleteItem:function onDeleteItem(key){return _this.onDeleteItem(key);}});};_this.renderTableRows=function(){return _this.state.reviews.map(_this.renderTableRow);};_this.state={reviews:[],netWorth:0,totalAssets:0,totalLiabilities:0};return _this;}_createClass(MainContent,[{key:\"componentDidMount\",value:function componentDidMount(){this.getData();}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",{className:\"main-content\"},React.createElement(\"div\",{className:\"left-content\"},React.createElement(\"table\",{className:\"table is-striped is-hoverable\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"Type\"),React.createElement(\"th\",null,\"Name\"),React.createElement(\"th\",null,\"Balance\"))),React.createElement(\"tbody\",null,this.renderTableRows()))),React.createElement(\"div\",{className:\"right-content\"},React.createElement(\"div\",{className:\"follow\"},React.createElement(\"table\",{className:\"table\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"Net Worth\"),React.createElement(\"th\",null,\"Assets\"),React.createElement(\"th\",null,\"Liabilities\"))),React.createElement(\"tbody\",null,React.createElement(\"tr\",null,React.createElement(\"td\",null,\"$\",this.state.netWorth),React.createElement(\"td\",null,\"$\",this.state.totalAssets),React.createElement(\"td\",null,\"$\",this.state.totalLiabilities)))),React.createElement(\"hr\",null),React.createElement(\"p\",{className:\"title right-title\"},\"Add New Item\"),React.createElement(Form,{setFormDirty:function setFormDirty(){return _this2.onFormDirty();}}))));}}]);return MainContent;}(React.Component);export default MainContent;","map":{"version":3,"sources":["/Users/bhgwbrown/Documents/misc/go_projs/my_proj/web/src/components/MainContent.js"],"names":["React","ReviewTableItem","Form","MainContent","props","getData","fetch","then","r","json","data","setState","prev","reviews","netWorth","NetWorth","totalAssets","TotalAssets","totalLiabilities","TotalLiabilities","onFormDirty","onDeleteItem","key","window","confirm","console","log","url","renderTableRow","item","renderTableRows","state","map","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport '../css/mainContent.css'\nimport 'bulma/css/bulma.css'\nimport ReviewTableItem from './reviewTableItem'\nimport Form from './Form'\n\nclass MainContent extends React.Component {\n\n    constructor(props){\n        super(props)\n        this.state = {\n            reviews: [],\n            netWorth: 0,\n            totalAssets: 0,\n            totalLiabilities: 0\n        }\n    }\n\n    getData = () => {        \n                \n        fetch(\"/reviews/get\")\n        .then(r => r.json())\n        .then(data => {\n            this.setState(prev => {\n                return {\n                    ...prev,\n                    reviews: data\n                }\n            })\n\n            fetch(\"/getTotals\")\n            .then(r => r.json())\n            .then(data => {\n                this.setState(prev => {\n                    return {\n                        ...prev,\n                        netWorth: data.NetWorth,\n                        totalAssets: data.TotalAssets,\n                        totalLiabilities: data.TotalLiabilities\n                    }\n                })\n            })\n        })\n    }\n    onFormDirty = () => {\n        this.getData()\n    }\n    onDeleteItem = (key) => {\n\n        if(window.confirm(\"Delete the entry?\") === false)\n        {\n            return;\n        }\n\n        console.log(`Deleting review - [key:${key}]`)\n\n        const url = `/review/delete?key=${key}`;\n        fetch(url)\n        .then(r => r.json())\n        .then(r => {\n            console.log(r)\n            this.getData()\n        })\n    }\n\n    renderTableRow = (item) => {\n        return <ReviewTableItem review={item} onDeleteItem={key => this.onDeleteItem(key)}/>\n    }\n    renderTableRows = () => {        \n        return this.state.reviews.map(this.renderTableRow)\n    }\n\n    componentDidMount(){\n        this.getData()\n    }\n    \n\n    render(){\n        return(\n            <div className=\"main-content\">\n                <div className=\"left-content\">\n                    <table className=\"table is-striped is-hoverable\">\n                        <thead>\n                            <tr>\n                                <th>Type</th>\n                                <th>Name</th>\n                                <th>Balance</th>\n                            </tr>\n                        </thead>\n                        <tbody>                                \n                            {this.renderTableRows()}\n                        </tbody>\n                    </table>\n                </div>\n                <div className=\"right-content\">\n                    <div className=\"follow\">\n\n                        <table className=\"table\">\n                            <thead>\n                                <tr>\n                                    <th>Net Worth</th>\n                                    <th>Assets</th>\n                                    <th>Liabilities</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                    <tr>\n                                        <td>${this.state.netWorth}</td>\n                                        <td>${this.state.totalAssets}</td>\n                                        <td>${this.state.totalLiabilities}</td>\n                                    </tr>\n                            </tbody>\n                        </table>\n                        <hr />\n                        \n                        <p className=\"title right-title\">Add New Item</p>\n                        <Form setFormDirty={() => this.onFormDirty()}/>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default MainContent"]},"metadata":{},"sourceType":"module"}