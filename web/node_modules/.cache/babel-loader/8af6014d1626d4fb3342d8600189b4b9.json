{"ast":null,"code":"import _objectSpread from\"/Users/bhgwbrown/Documents/misc/go_projs/my_proj/web/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/bhgwbrown/Documents/misc/go_projs/my_proj/web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bhgwbrown/Documents/misc/go_projs/my_proj/web/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/bhgwbrown/Documents/misc/go_projs/my_proj/web/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/bhgwbrown/Documents/misc/go_projs/my_proj/web/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/bhgwbrown/Documents/misc/go_projs/my_proj/web/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import'bulma/css/bulma.css';var Form=/*#__PURE__*/function(_React$Component){_inherits(Form,_React$Component);function Form(props){var _this;_classCallCheck(this,Form);_this=_possibleConstructorReturn(this,_getPrototypeOf(Form).call(this,props));_this.isNameValid=function(val){if(val===\"\"){return false;}return true;};_this.isBalanceValid=function(val){if(val===\"\"||val<_this.MIN_BALANCE||val>_this.MAX_BALANCE){return false;}return true;};_this.GetNameHelpText=function(){if(_this.isNameValid(_this.state.name)==false){return React.createElement(\"p\",{class:\"help is-danger\"},\"Please provide a name\");}};_this.GetBalanceHelpText=function(){if(_this.isBalanceValid(_this.state.balance)==false){return React.createElement(\"p\",{class:\"help is-danger\"},\"Value must be within range \",_this.MIN_BALANCE,\"...\",_this.MAX_BALANCE);}};_this.clearNameBalance=function(){var inputName=document.getElementById(\"name-input\");var inputBalance=document.getElementById(\"balance-input\");inputName.value=\"\";inputBalance.value=-1;inputName.onchange();inputBalance.onchange();// this.setState(prev =>{\n//     return({\n//         ...prev,\n//         name: \"\",\n//         balance: -1\n//     })\n// })\n};_this.onClickSubmit=function(){if(_this.isNameValid(_this.state.name)===false||_this.isBalanceValid(_this.state.balance)===false){return;}console.log(\"Submitting new review - [type:\".concat(_this.state.type,\"] [name:\").concat(_this.state.name,\"] [balance:\").concat(_this.state.balance,\"]\"));var url=\"/review/add?type=\".concat(_this.state.type,\"&name=\").concat(_this.state.name,\"&balance=\").concat(_this.state.balance);fetch(url).then(function(r){return r.json();}).then(function(r){console.log(r);_this.props.setFormDirty();});_this.clearNameBalance();};_this.onSelectTypeChange=function(event){var val=event.target.value;_this.setState(function(prev){return _objectSpread({},prev,{type:val});});};_this.onInputNameChange=function(event){var val=event.target.value;var input=document.getElementById(\"name-input\");var btn=document.getElementById(\"submit-btn\");var everythingValid=true;if(_this.isNameValid(val)==false){everythingValid=false;input.classList.add(\"is-danger\");btn.setAttribute(\"disabled\",\"true\");}else{input.classList.remove(\"is-danger\");}if(_this.isBalanceValid(_this.state.balance)==false){everythingValid=false;btn.setAttribute(\"disabled\",\"true\");}if(everythingValid===true){btn.removeAttribute(\"disabled\");btn.onclick=function(){_this.onClickSubmit();};}_this.setState(function(prev){return _objectSpread({},prev,{name:val});});};_this.onInputBalanceChange=function(event){var val=event.target.value;var input=document.getElementById(\"balance-input\");var btn=document.getElementById(\"submit-btn\");var everythingValid=true;if(_this.isBalanceValid(val)==false){everythingValid=false;input.classList.add(\"is-danger\");btn.setAttribute(\"disabled\",\"true\");}else{input.classList.remove(\"is-danger\");}if(_this.isNameValid(_this.state.name)==false){everythingValid=false;btn.setAttribute(\"disabled\",\"true\");}if(everythingValid===true){btn.removeAttribute(\"disabled\");btn.onclick=function(){_this.onClickSubmit();};}_this.setState(function(prev){return _objectSpread({},prev,{balance:val});});};_this.state={type:\"Asset\",name:\"\",balance:-1};_this.MIN_BALANCE=0;_this.MAX_BALANCE=9999999;return _this;}_createClass(Form,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"form box\"},React.createElement(\"div\",{class:\"field\"},React.createElement(\"label\",{class:\"label\"},\"Type\"),React.createElement(\"div\",{class:\"control\"},React.createElement(\"div\",{class:\"select\"},React.createElement(\"select\",{onChange:this.onSelectTypeChange},React.createElement(\"option\",null,\"Asset\"),React.createElement(\"option\",null,\"Liability\"))))),React.createElement(\"label\",{class:\"label\"},\"Name\"),React.createElement(\"p\",{class:\"control has-icons-left\"},React.createElement(\"input\",{id:\"name-input\",class:\"input is-danger\",type:\"text\",placeholder:\"Name\",onChange:this.onInputNameChange}),React.createElement(\"span\",{class:\"icon is-small is-left\"},React.createElement(\"i\",{class:\"fa fa-user-circle\"}))),this.GetNameHelpText(),React.createElement(\"label\",{class:\"label\"},\"Balance\"),React.createElement(\"p\",{class:\"control has-icons-left\"},React.createElement(\"input\",{id:\"balance-input\",class:\"input is-danger\",type:\"number\",min:\"0\",max:\"9999999\",placeholder:\"Amount\",onChange:this.onInputBalanceChange}),React.createElement(\"span\",{class:\"icon is-small is-left\"},React.createElement(\"i\",{class:\"fa fa-dollar\"}))),this.GetBalanceHelpText(),React.createElement(\"div\",{className:\"field\"},React.createElement(\"p\",{className:\"control\"},React.createElement(\"button\",{disabled:true,id:\"submit-btn\",className:\"button is-link\",onclick:function onclick(){console.log(\"yerp\");}},\"Submit\"))));}}]);return Form;}(React.Component);export default Form;","map":{"version":3,"sources":["/Users/bhgwbrown/Documents/misc/go_projs/my_proj/web/src/components/Form.js"],"names":["React","Form","props","isNameValid","val","isBalanceValid","MIN_BALANCE","MAX_BALANCE","GetNameHelpText","state","name","GetBalanceHelpText","balance","clearNameBalance","inputName","document","getElementById","inputBalance","value","onchange","onClickSubmit","console","log","type","url","fetch","then","r","json","setFormDirty","onSelectTypeChange","event","target","setState","prev","onInputNameChange","input","btn","everythingValid","classList","add","setAttribute","remove","removeAttribute","onclick","onInputBalanceChange","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport 'bulma/css/bulma.css'\n\nclass Form extends React.Component {\n\n\n    constructor(props){\n        super(props)\n        this.state={\n            type: \"Asset\",\n            name: \"\",\n            balance: -1\n        }\n\n\n        this.MIN_BALANCE = 0;\n        this.MAX_BALANCE = 9999999;\n    }\n\n    isNameValid = (val) => {\n        if(val === \"\"){\n            return false\n        }\n\n        return true\n    }\n    isBalanceValid = (val) => {\n\n        if(val === \"\" || val < this.MIN_BALANCE || val > this.MAX_BALANCE)\n        {\n            return false;\n        }\n\n        return true\n    }\n\n    GetNameHelpText = () => {\n\n        if(this.isNameValid(this.state.name) == false)\n        {\n            return(\n                <p class=\"help is-danger\">\n                    Please provide a name\n                </p>\n            )\n        }\n    }\n    GetBalanceHelpText = () => {\n\n        if(this.isBalanceValid(this.state.balance) == false)\n        {\n            return(\n                <p class=\"help is-danger\">\n                    Value must be within range {this.MIN_BALANCE}...{this.MAX_BALANCE}\n                </p>\n            )\n        }\n    }\n\n    clearNameBalance = () => {\n\n\n        const inputName = document.getElementById(\"name-input\")\n        const inputBalance = document.getElementById(\"balance-input\")\n\n        inputName.value = \"\";\n        inputBalance.value = -1;\n\n        inputName.onchange();\n        inputBalance.onchange();\n\n        // this.setState(prev =>{\n        //     return({\n        //         ...prev,\n        //         name: \"\",\n        //         balance: -1\n        //     })\n        // })\n    }\n\n    onClickSubmit = () => {\n\n        if(this.isNameValid(this.state.name) === false || this.isBalanceValid(this.state.balance) === false)\n        {            \n            return\n        }\n        \n        console.log(`Submitting new review - [type:${this.state.type}] [name:${this.state.name}] [balance:${this.state.balance}]`)\n\n        const url = `/review/add?type=${this.state.type}&name=${this.state.name}&balance=${this.state.balance}`;\n        fetch(url)\n        .then(r => r.json())\n        .then(r => {\n            console.log(r)\n            this.props.setFormDirty()\n        })\n\n        this.clearNameBalance()\n    }\n    onSelectTypeChange = (event) => {\n        const val = event.target.value;\n        \n        this.setState(prev =>{\n            return{\n                ...prev,\n                type: val\n            }\n        })\n    }\n    onInputNameChange = (event) => {\n        const val = event.target.value;\n\n        const input = document.getElementById(\"name-input\")\n        const btn = document.getElementById(\"submit-btn\")\n\n        let everythingValid = true\n        if(this.isNameValid(val) == false)\n        {\n            everythingValid = false\n            input.classList.add(\"is-danger\")\n            btn.setAttribute(\"disabled\", \"true\")\n        }\n        else {\n            input.classList.remove(\"is-danger\")\n        }\n        if(this.isBalanceValid(this.state.balance) == false)\n        {\n            everythingValid = false\n            btn.setAttribute(\"disabled\", \"true\")\n        }\n\n        if(everythingValid === true)\n        {\n            btn.removeAttribute(\"disabled\")\n            btn.onclick = () => {this.onClickSubmit();}\n        }\n\n        this.setState(prev =>{\n            return{\n                ...prev,\n                name: val\n            }\n        })\n    }\n    onInputBalanceChange = (event) => {\n        const val = event.target.value;\n\n        const input = document.getElementById(\"balance-input\")\n        const btn = document.getElementById(\"submit-btn\")\n\n        let everythingValid = true\n        if(this.isBalanceValid(val) == false)\n        {\n            everythingValid = false\n            input.classList.add(\"is-danger\")\n            btn.setAttribute(\"disabled\", \"true\")\n        }\n        else\n        {\n            input.classList.remove(\"is-danger\")\n        }        \n        if(this.isNameValid(this.state.name) == false)\n        {\n            everythingValid = false\n            btn.setAttribute(\"disabled\", \"true\")\n        }\n\n        if(everythingValid === true)\n        {\n            btn.removeAttribute(\"disabled\")\n            btn.onclick = () => {this.onClickSubmit();}\n        }\n\n        this.setState(prev =>{\n            return{\n                ...prev,\n                balance: val\n            }\n        })\n    }\n\n    render(){\n        return(\n            <div className=\"form box\">\n\n                <div class=\"field\">\n                    <label class=\"label\">Type</label>\n                    <div class=\"control\">\n                        <div class=\"select\">\n                            <select onChange={this.onSelectTypeChange}>\n                                <option>Asset</option>\n                                <option>Liability</option>\n                            </select>\n                        </div>\n                    </div>\n                </div>\n\n                <label class=\"label\">Name</label>\n                <p class=\"control has-icons-left\">\n                    <input id=\"name-input\" class=\"input is-danger\" type=\"text\" placeholder=\"Name\" onChange={this.onInputNameChange}/>\n                    <span class=\"icon is-small is-left\">\n                        <i class=\"fa fa-user-circle\"></i>\n                    </span>\n                </p>\n                {this.GetNameHelpText()}\n\n                <label class=\"label\">Balance</label>\n                <p class=\"control has-icons-left\">\n                    <input id=\"balance-input\" class=\"input is-danger\" type=\"number\" min=\"0\" max=\"9999999\" placeholder=\"Amount\" onChange={this.onInputBalanceChange}/>\n                    <span class=\"icon is-small is-left\">\n                        <i class=\"fa fa-dollar\"></i>\n                    </span>\n                </p>\n                {this.GetBalanceHelpText()}\n\n                <div className=\"field\">\n                    <p className=\"control\">\n                        <button disabled id=\"submit-btn\" className=\"button is-link\" onclick={() => {console.log(\"yerp\")}}>Submit</button>\n                    </p>\n                </div>\n\n            </div>\n        )\n    }\n}\n\nexport default Form"]},"metadata":{},"sourceType":"module"}